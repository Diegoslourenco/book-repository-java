<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{BookLayout}">
	
<head>
	<title>Cadastro de Livro</title>
</head>


<section layout:fragment="content">
	<form class="form-horizontal" method="POST" action="/livros" th:object="${book}">
	
		<div th:replace="MessageGeneral"></div>
		<div th:replace="MessageError"></div>				
		
		<div class="panel panel-default">
			<div class="panel-heading">
		  		<div class="clearfix">
					<h1 class="panel-title gft-title-panel">Novo livro</h1>
					<a class="btn btn-link gft-link-panel" href="/livros">Voltar para pesquisa</a>
				</div>
			</div>
			
  			<div class="panel-body">
  				<input type="hidden" th:field="*{id}"/>
  			
  				<div class="form-group" th:classappend="${#fields.hasErrors('title')} ? 'has-error'">
  					<label for="title" class="col-sm-2 control-label">Título</label>
  					<div class="col-sm-4">
  						<input type="text" class="form-control" id="title" th:field="*{title}"/>
  					</div>
  				</div>
  				
  				<div class="form-group" th:classappend="${#fields.hasErrors('author')} ? 'has-error'">
  					<label for="author" class="col-sm-2 control-label">Autor</label>
  					<div class="col-sm-4">
  						<input type="text" class="form-control" id="author" th:field="*{author}"/>
  					</div>
  				</div>
  				
  				<div class="form-group">
  					<label for="genre" class="col-sm-2 control-label">Gênero</label>
  					<div class="col-sm-2">
  						<select class="form-control" name="genre" th:field="*{genre}">
  							<option th:each="genre : ${allGenreBook}" th:value="${genre}" th:text="${genre.description}"></option>
  						</select>
  					</div>
  				</div> 
  				
  				<div class="form-group">
  					<label for="status" class="col-sm-2 control-label">Status</label>
  					<div class="col-sm-2">
  						<select class="form-control" name="status" th:field="*{status}">
  							<option th:each="statusBook : ${allStatusBook}" th:value="${statusBook}" th:text="${statusBook.status}"></option>
  						</select>
  					</div>
  				</div> 							
  				
  				<div class="form-group" th:classappend="${#fields.hasErrors('dateInclusion')} ? 'has-error'">
  					<label for="dateInclusion" class="col-sm-2 control-label">Data de Inclusão</label>
  					<div class="col-sm-2">
  						<input type="text" class="form-control" id="dateInclusion" th:field="*{dateInclusion}"
  						data-provide="datepicker" data-date-format="dd/mm/yyyy" data-date-language="pt-BR"
  						data-date-autoclose="true" data-date-today-highlight="true" data-date-orientation="bottom"/>
  					</div>
  				</div>
  				
  				<div class="form-group" th:classappend="${#fields.hasErrors('rate')} ? 'has-error'">
  					<label for="rate" class="col-sm-2 control-label">Avaliação Usuário</label>
  					<div class="col-sm-2">
  						<input type="text" class="form-control js-currency" id="rate" th:field="*{rate}"/>
  					</div>
  				</div>
  				
  				<div class="form-group" th:classappend="${#fields.hasErrors('price')} ? 'has-error'">
  					<label for="price" class="col-sm-2 control-label">Preço Unitário</label>
  					<div class="col-sm-2">
  						<input type="text" class="form-control js-currency" id="price" th:field="*{price}"/>
  					</div>
  				</div>
  				
  				<div class="form-group" th:classappend="${#fields.hasErrors('quantity')} ? 'has-error'">
  					<label for="quantity" class="col-sm-2 control-label" >Quantidade</label>
  					<div class="col-sm-2">
  						<input type="number" class="form-control" id="quantity" min="1" th:field="*{quantity}"/>
  					</div>
  				</div>

  				<div class="form-group">
  					<div class="col-sm-offset-2 col-sm-10">
  						<button type="submit" class="btn btn-primary">Salvar</button>
  					</div>
  				</div>
  			</div>
		</div>
	</form>	
</section>
</html>
